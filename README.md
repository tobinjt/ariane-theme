# Some documentation for myself

## How do I update dependencies?

This is untested.

```shell
composer update
composer require --dev phpunit/phpunit ^9
```

## How do I set the banner message?

- Edit `page.php`.

## How are images included in the slider?

The image description needs to start with `slider`, and be followed by a URL;
the image will link to that URL. The image needs to have width and height
attributes, which are automatically added by Wordpress when you upload it.
Specific sizes are generated by Wordpress when images are uploaded so that
there's some consistency.

## How do I find attachment ids?

- Go to
  [media view prod](https://www.arianetobin.ie/wp-admin/upload.php?mode=list) or
  [media view dev](https://dev.arianetobin.ie/wp-admin/upload.php?mode=list)
- Search for the image you want.
- Hover over the image name and look for `post=XXX` in the URL; `XXX` is the
  attachment id.

## How do I add a new product?

- Create a new range if necessary (see below).

- Upload the picture, they'll be automatically resized to the sizes we need.
  [Find the picture again](https://www.arianetobin.ie/wp-admin/upload.php) and
  note the image ID.

- Create a new page for the product. Make it a child of the range _before you
  start typing the title_. Copy the text from another product and modify
  accordingly. ~~The URL will be wrong when you're creating the page - the range
  won't be part of it - but it will be corrected when you publish.~~

- Update the range page and the type page with rows for the new product.

## How do I add a new range?

Create a new page for the range, making it a child of jewellery.

Copy another range's contents and edit appropriately.

Add the new range to the top level jewellery page and add it in
`src/Header.php`.

## How do I rename a product?

Edit the product's page. Starting from the top, change:

- The name of the page.
- The permalink (the new link won't work until you click update).
- The name in the jewellery shortcode.

Open the range and type pages for the product, change the name and URL in each
page.

To make sure everything works properly:
`check-links https://www.arianetobin.ie/`

## What references fonts.googleapis.com/css?

The internet says it's part of the Wordpress admin theme, ignore it.

## How do I clear the mod_pagespeed cache?

`sudo touch /var/cache/mod_pagespeed/cache.flush`

## Favicon stuff

- Favicons created using <http://realfavicongenerator.net/>
- `images/favicons/browserconfig.xml` needs to be symlinked from the root of the
  wordpress installation.
- `images/favicons/favicon.ico` needs to be symlinked from the root of the
  wordpress installation.
- Check the setup using <http://realfavicongenerator.net/favicon_checker>
